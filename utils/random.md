## 以太坊为什么没有随机数

以太坊作为区块链，是一种确定性的图灵机，所有分布式节点需要对链上状态改变达成共识，就需要交易在所有节点上的计算结果都是一样的。这意味着以太坊不能涉及随机性。如果存在随机的操作码，则所有矿工将获得不同的结果，网络将无法达成共识。

## 以太坊随机数的两种来源

1. 通过链上生成
2. 通过链下生成

### 链上生成随机数

#### 使用打包时间与打包难度生成随机数
```solidity
function importSeedFromThird() public view returns (uint8) {
        return uint8(
            uint256(keccak256(abi.encodePacked(block.timestamp, block.difficulty))) % 100
        );
}
```
#### 优点
1. 简单
#### 缺点
1. 只能生成一个随机数(比较严重)
2. 随机数可以被旷工操纵

### 利用重复哈希加强安全性
通过对第一种生成的随机数作为数据源重复进行哈希运算，同样可以大大增大矿工的攻击成本，增强安全性。

### 链下生成随机数

#### 中心化
如使用https://www.random.org/获得随机数

#### 去中心化
